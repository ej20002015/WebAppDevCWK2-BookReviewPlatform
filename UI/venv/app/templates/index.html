{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block indexActive %}active{% endblock %}
{% block links %}
<link rel="stylesheet" href="{{url_for('static', filename='index.css')}}">
{% endblock %}
{% block content %}
<h2>Your read books:</h2>
{% if error %}
  <p class=error>ERROR: {{error}}</p>
{% else %}
  {% if not booksList %}
  <p>You have not added any read books</p>
  {% else %}
  <div id="books">
    <!-- display a card for each book and a modal giving more details (and user options for adding book to favourites and rating it) -->
    {% for book in booksList %}
      {% if (loop.index - 1) % 3 == 0 %}
        <div class="card-deck">
      {% endif %}
      <div class="card">
        <img class="card-img-top" src="{{book.coverImageURI}}" alt="Image of book cover">
        <div class="card-body">
          <h5 class="card-title">{{book.title}}</h5>
        </div>
        <button value="{{book.id}}" class="btn btn-primary">More details</button>
      </div>
      {% if (loop.index - 3) % 3 == 0 and (loop.index - 3) > -1 %}
        </div>
      {% endif %}
    {% endfor %}
    <!-- Fill in the rest of the space in a card-deck with dummy cards that are not visible to prevent card stretching -->
    {% if numberOfDummyCards != 0 %}
      {% for i in range(numberOfDummyCards) %}
        <div class="card dummyCard">
          <img class="card-img-top" src="#" alt="Image of book cover dummy">
          <div class="card-body">
            <h5 class="card-title">Dummy card</h5>
          </div>
          <button class="btn btn-primary">More details</button>
        </div>
      {% endfor %}
      </div>
    {% endif %}
  </div>
  {% endif %}
{% endif %}
{% endblock %}